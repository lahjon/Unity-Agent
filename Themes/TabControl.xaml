<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Style TargetType="TabItem">
        <Setter Property="Foreground" Value="{StaticResource TextTabHeader}"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TabItem">
                    <Border x:Name="Bd" CornerRadius="6,6,0,0"
                            Padding="8,6" Margin="1,0" SnapsToDevicePixels="True">
                        <Border.Background>
                            <SolidColorBrush x:Name="TabBg" Color="#00000000"/>
                        </Border.Background>
                        <Border.BorderBrush>
                            <SolidColorBrush x:Name="TabBorder" Color="#00000000"/>
                        </Border.BorderBrush>
                        <Border.BorderThickness>
                            <Thickness Bottom="2" Left="0" Right="0" Top="0"/>
                        </Border.BorderThickness>
                        <ContentPresenter ContentSource="Header"/>
                    </Border>
                    <ControlTemplate.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ColorAnimation Storyboard.TargetName="TabBg" Storyboard.TargetProperty="Color"
                                                        To="#2C2C2C" Duration="0:0:0.15"/>
                                        <ColorAnimation Storyboard.TargetName="TabBorder" Storyboard.TargetProperty="Color"
                                                        To="#DA7756" Duration="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ColorAnimation Storyboard.TargetName="TabBg" Storyboard.TargetProperty="Color"
                                                        To="#00000000" Duration="0:0:0.2"/>
                                        <ColorAnimation Storyboard.TargetName="TabBorder" Storyboard.TargetProperty="Color"
                                                        To="#00000000" Duration="0:0:0.25"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Trigger.EnterActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ColorAnimation Storyboard.TargetName="TabBg" Storyboard.TargetProperty="Color"
                                                        To="#252525" Duration="0:0:0.12"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.EnterActions>
                            <Trigger.ExitActions>
                                <BeginStoryboard>
                                    <Storyboard>
                                        <ColorAnimation Storyboard.TargetName="TabBg" Storyboard.TargetProperty="Color"
                                                        To="#00000000" Duration="0:0:0.2"/>
                                    </Storyboard>
                                </BeginStoryboard>
                            </Trigger.ExitActions>
                        </Trigger>
                    </ControlTemplate.Triggers>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Settings Tab Control (overflow dropdown on the left) -->
    <Style x:Key="SettingsTabControlStyle" TargetType="TabControl">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TabControl">
                    <DockPanel>
                        <Grid DockPanel.Dock="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Button x:Name="PART_OverflowButton" Grid.Column="0"
                                    Width="22" Height="22"
                                    Margin="0,0,2,0"
                                    Cursor="Hand"
                                    VerticalAlignment="Center"
                                    ToolTip="Show all tabs">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="OverflowBd" Background="Transparent" CornerRadius="4">
                                            <TextBlock Text="&#x25BE;" Foreground="{StaticResource TextSecondary}" FontSize="14"
                                                       FontFamily="Segoe UI"
                                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="OverflowBd" Property="Background" Value="{StaticResource BorderMedium}"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                            <ScrollViewer Grid.Column="1"
                                          HorizontalScrollBarVisibility="Hidden"
                                          VerticalScrollBarVisibility="Disabled"
                                          CanContentScroll="False"
                                          Padding="0" Margin="0">
                                <TabPanel IsItemsHost="True"/>
                            </ScrollViewer>
                        </Grid>
                        <Border Background="Transparent">
                            <ContentPresenter ContentSource="SelectedContent"/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!-- Output Tab Control (horizontal scroll, Chrome-style) -->
    <Style x:Key="OutputTabControlStyle" TargetType="TabControl">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="BorderThickness" Value="0"/>
        <Setter Property="Template">
            <Setter.Value>
                <ControlTemplate TargetType="TabControl">
                    <DockPanel>
                        <Grid DockPanel.Dock="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <ScrollViewer Grid.Column="0"
                                          HorizontalScrollBarVisibility="Hidden"
                                          VerticalScrollBarVisibility="Disabled"
                                          CanContentScroll="False"
                                          Padding="0" Margin="0">
                                <TabPanel IsItemsHost="True"/>
                            </ScrollViewer>
                            <Button x:Name="PART_OverflowButton" Grid.Column="1"
                                    Visibility="Collapsed"
                                    Width="24" Height="24"
                                    Margin="2,0,0,0"
                                    Cursor="Hand"
                                    VerticalAlignment="Center"
                                    ToolTip="Show all tabs">
                                <Button.Template>
                                    <ControlTemplate TargetType="Button">
                                        <Border x:Name="OverflowBd" Background="{StaticResource BgElevated}" CornerRadius="4">
                                            <TextBlock Text="&#x25BE;" Foreground="{StaticResource TextSecondary}" FontSize="14"
                                                       FontFamily="Segoe UI"
                                                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="OverflowBd" Property="Background" Value="{StaticResource BorderMedium}"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Button.Template>
                            </Button>
                        </Grid>
                        <Border Background="Transparent">
                            <ContentPresenter ContentSource="SelectedContent"/>
                        </Border>
                    </DockPanel>
                </ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>
</ResourceDictionary>
